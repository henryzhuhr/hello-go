
services:
  hello-go-development:
    build:
      context: .
      dockerfile: dockerfiles/Dockerfile
    image: hello-go-development:latest  # 构建后镜像的名称和标签
    environment:
      APP_NAME: "hello-go"
    volumes:
      - ~/.ssh:/root/.ssh:ro  # 挂载宿主机的ssh配置文件，方便推拉代码（只读）
      - .:/root/hello-go      # 挂载宿主机的项目目录到容器中
    working_dir: /root/hello-go
    # network_mode: "host" # 开发环境使用 host 网络模式，方便调试
    ports:
      - "5173:5173"  # vitepress 服务端口
    # sleep infinity 用于保持容器运行，否则 vscode 无法进入容器，建议写在 .devcontainer/docker-compose.yml 文件中
    command: ["sleep", 'infinity']
 